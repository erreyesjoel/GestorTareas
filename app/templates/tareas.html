{% extends "base.html" %}
{% block title %}Mis Tareas{% endblock %}

{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/components/_tasklist.css') }}">
{% endblock %}

{% block content %}
<div class="content-wrapper">
    <h2>Mis Tareas</h2>
    <ul class="task-list">
        {% for tarea in tareas %}
        <li class="task-item">
            <div class="task-info">
                <span class="task-title">{{ tarea.titulo }}</span>
                <span class="task-status">{{ tarea.estado }}</span>
            </div>
            <div class="task-actions">
                <a href="{{ url_for('main.ver_tarea', id=tarea.id) }}" class="btn btn-info">Ver</a>
                <a href="{{ url_for('main.editar_tarea', id=tarea.id) }}" class="btn btn-primary">Editar</a>
                <form method="POST" action="{{ url_for('main.eliminar_tarea', id=tarea.id) }}" class="delete-task-form" style="display:inline;">
                    <button type="button" class="btn btn-danger delete-task-btn" data-task-id="{{ tarea.id }}">Eliminar</button>
                </form>
            </div>
        </li>
        {% endfor %}
    </ul>
    <div id="delete-modal" class="modal" style="display:none;">
        <div class="modal-content">
            <h3>Â¿Seguro que quieres eliminar esta tarea?</h3>
            <div style="margin-top:1rem;">
                <button id="confirm-delete" class="btn btn-danger">Eliminar</button>
                <button id="cancel-delete" class="btn btn-secondary">Cancelar</button>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>
{% endblock %}